{"version":3,"sources":["../../app/scripts/main.js"],"names":["map","infowindow","initMap","google","maps","Map","document","getElementById","zoom","infoWindow","InfoWindow","navigator","geolocation","getCurrentPosition","position","pos","lat","coords","latitude","lng","longitude","setPosition","setContent","setCenter","handleLocationError","getCenter","browserHasGeolocation","service","places","PlacesService","myLatLng","nearbySearch","location","radius","type","keyword","callback","results","status","PlacesServiceStatus","OK","i","length","createMarker","place","placeLoc","geometry","marker","Marker","event","addListener","name","open","$","ajax","data","url","dataType","success","result","petfinder","pets","pet","infoHTML","each","$t","media","photos","photo","y","image","html","console","log","error","request","alert"],"mappings":"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","file":"main.js","sourcesContent":["var map;\n      var infowindow;\n\n      function initMap() {\n\n        map = new google.maps.Map(document.getElementById('map'), {\n          zoom: 12\n        });\n        var infoWindow = new google.maps.InfoWindow({map: map});\n        if (navigator.geolocation) {\n                  navigator.geolocation.getCurrentPosition(function(position) {\n                    var pos = {\n                      lat: position.coords.latitude,\n                      lng: position.coords.longitude\n                    };\n\n                    infoWindow.setPosition(pos);\n                    infoWindow.setContent('You are here!');\n                    map.setCenter(pos);\n                  }, function() {\n                    handleLocationError(true, infoWindow, map.getCenter());\n                  });\n                } else {\n                  // Browser doesn't support Geolocation\n                  handleLocationError(false, infoWindow, map.getCenter());\n                }\n\n\n              function handleLocationError(browserHasGeolocation, infoWindow, pos) {\n                infoWindow.setPosition(pos);\n                infoWindow.setContent(browserHasGeolocation ?\n                                      'Error: The Geolocation service failed.' :\n                                      'Error: Your browser doesn\\'t support geolocation.');\n              }\n        infowindow = new google.maps.InfoWindow();\n        var service = new google.maps.places.PlacesService(map);\n        var myLatLng = {lat: 47.620422, lng: -122.349358};\n        service.nearbySearch({\n          location: myLatLng,\n          radius: 1000000,\n          type: ['pet_store'],\n          keyword: 'rescue'\n        }, callback);\n      }\n\n      function callback(results, status) {\n        if (status === google.maps.places.PlacesServiceStatus.OK) {\n          for (var i = 0; i < results.length; i++) {\n            createMarker(results[i]);\n          }\n        }\n      }\n\n      function createMarker(place) {\n        var placeLoc = place.geometry.location;\n        var marker = new google.maps.Marker({\n          map: map,\n          position: place.geometry.location\n        });\n\n        google.maps.event.addListener(marker, 'click', function() {\n          infowindow.setContent(place.name);\n          infowindow.open(map, this);\n        });\n      }\n          $.ajax({\n              type : 'GET',\n              data : {},\n              url : 'http://api.petfinder.com/pet.find?format=json&key=12ca8a73b3b4a51797988576ecfd5ebc&location=98116&breed=cat&callback=?',\n              dataType: 'json',\n              success : function(data) {\n                  // stores result\n                  var result = '';\n\n                  var petfinder = data.petfinder.pets.pet;\n                  var infoHTML = '<ul>';\n                  $.each(petfinder, function(i, pet){\n\n                    infoHTML += '<li>';\n                    //pet name\n                    infoHTML += pet.name.$t;\n                    infoHTML += '</li>';\n                    //shows pet's image\n                    infoHTML += '<li>';\n                  $.each(pet.media.photos.photo, function(y, image){\n                      if(image['@size'] == 'x' && image['@id'] === '1'){\n                          infoHTML += '<img src=\"'+image['$t']+'\" />';\n                      }\n                      if (image == \"undefined\"){\n                        infoHTML += 'Cat not found. Please refresh page';\n                      }\n                    });\n                      infoHTML += '</li>';\n\n                  });\n\n                  infoHTML += '</ul>';\n                  // return infoHTML;\n                  $('#petfinderInfo').html(infoHTML);\n                  console.log(petfinder);\n              },\n              error : function(request,error)\n              {\n                  alert(\"No Cats Found. Please refresh page\");\n              }\n          });\n"]}